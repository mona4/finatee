if (self.CavalryLogger) { CavalryLogger.start_js(["zpgAq"]); }

__d("TopicFeedsNuxID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={WWW_TOPIC_FEEDS_COMPOSER_TAGGER:4086,WWW_TOPIC_FEEDS_SWITCHER:4045};},null);
__d('Facepile.react',['cx','fbt','ix','intlSummarizeNumber','joinClasses','HovercardLink','Image.react','Link.react','List.react','Pixelz.react','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l={small:24,medium:32,large:50},m=c('React').createClass({displayName:'Facepile',defaultProps:{moreColor:'blue',moreCount:0,showHovercard:false},propTypes:{className:k.string,moreColor:k.oneOf(['blue','gray']),moreCount:k.number,moreDialogLink:k.string,morePageLink:k.string,numFaces:k.number,onFaceClick:k.func,onComponentDidMount:k.func,profiles:k.arrayOf(k.shape({URL:k.string,name:k.string.isRequired,uniqueID:k.any.isRequired,profilePicURI:k.any.isRequired})).isRequired,showHovercard:k.bool,size:k.oneOf([28,'small','medium','large']).isRequired},_onFaceClick:function(n,o){if(this.props.onFaceClick)this.props.onFaceClick(n,o);},componentDidMount:function(){if(this.props.onComponentDidMount)this.props.onComponentDidMount();},getPicSize:function(){return l[this.props.size]||this.props.size;},renderFace:function(n,o){var p=this.getPicSize(),q=c('HovercardLink').constructEndpoint({id:n.uniqueID}).toString();return (c('React').createElement('li',{className:"_43q7",key:n.uniqueID,onClick:this._onFaceClick.bind(this,n,o)},c('React').createElement(c('Link.react'),{href:n.URL,'aria-label':n.name,'data-hover':!this.props.showHovercard?'tooltip':null,'data-hovercard':this.props.showHovercard?q:null,'data-tooltip-content':n.name,className:"_2rt_ link",'data-ignoreclass':"_2rt_",'data-tooltip-alignh':'left'},c('React').createElement(c('Image.react'),{src:n.profilePicURI,width:p,height:p,className:'img'}))));},renderMore:function(){if(!this.props.moreCount)return null;var n=this.props.numFaces!=null&&this.props.numFaces<=this.props.profiles.length?this.props.moreCount+1:this.props.moreCount,o=c('intlSummarizeNumber')(n,0),p=o.length,q;if(n===0||this.props.size==='small'&&p>2||this.props.size===28&&p>3||this.props.size==='medium'&&p>3||this.props.size==='large'&&p>6){q=c('React').createElement(c('Image.react'),{src:j('/images/questions/ellipsis.png')});}else q='+'+o;var r;if(n===1){r=i._("1 other person");}else r=i._("{num} other people",[i.param('num',n)]);var s=c('joinClasses')("_43q8"+(' '+"_43q7")+(p<2?' '+"_43qa":'')+(p===2?' '+"_43qb":'')+(p===3?' '+"_43qd":'')+(p>3?' '+"_43qe":'')+(this.props.moreColor==='blue'?' '+"_49c8":'')+(this.props.moreColor==='gray'?' '+"_49cb":''));return (c('React').createElement('li',{className:s},c('React').createElement('a',{'data-hover':'tooltip','data-tooltip-position':'right','data-tooltip-content':r,ajaxify:this.props.moreDialogLink,href:this.props.morePageLink,role:'button',rel:'dialog'},q)));},render:function(){var n=c('joinClasses')(this.props.className,"_43qm"+(this.props.size==28?' '+"_3cxu":'')+(this.props.size=='small'?' '+"_43q9":'')+(this.props.size=='medium'?' '+"_43qc":'')+(this.props.size=='large'?' '+"_43qf":'')),o=this.props.numFaces==undefined?this.props.profiles:this.props.profiles.slice(0,this.props.moreCount?this.props.numFaces-1:this.props.numFaces);return (c('React').createElement('div',{className:n,style:this.props.style},c('React').createElement(c('List.react'),{className:"_4cg3",direction:'horizontal',spacing:'none',border:'none'},o.map(this.renderFace),this.renderMore())));}});f.exports=m;},null);
__d('RelayRootCalls',['Relay'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={viewer:function(i){return function(j){return {children:[].concat.apply([],[c('Relay').QL.__frag(j)]),fieldName:'viewer',kind:'Query',metadata:{},name:'RelayRootCalls',type:'Viewer'};}(i.getFragment('viewer'));}};f.exports=h;},null);
__d('PollAddOptionMutation',['GraphQLMutatorConstants','Relay','RelayMutationType'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('Relay').Mutation);i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'question_add_option',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'QuestionAddOptionData!'},name:'PollAddOptionMutation',responseType:'QuestionAddOptionResponsePayload'};}();};j.prototype.getVariables=function(){return {question_id:this.props.question.id,option_text:this.props.optionText,option_page_id:this.props.optionPageID,actor_id:this.props.viewer.actor.id};};j.prototype.getConfigs=function(){return [{type:c('RelayMutationType').RANGE_ADD,parentName:'question',parentID:this.props.question.id,connectionName:'options',edgeName:'question_options_edge',rangeBehaviors:{'':c('GraphQLMutatorConstants').PREPEND,'orderby(vote_count)':c('GraphQLMutatorConstants').APPEND}},{type:c('RelayMutationType').FIELDS_CHANGE,fieldIDs:{question:this.props.question.id}}];};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{fieldName:'options',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionsConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'question',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Question'},{children:[{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isGenerated:true,isRequisite:true},type:'QuestionOption'}],fieldName:'question_options_edge',kind:'Field',metadata:{canHaveSubselections:true},type:'QuestionOptionsEdge'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollAddOptionMutationRelayQL',type:'QuestionAddOptionResponsePayload'};}();};j.prototype.$PollOptionMutation1=function(){var k=this.props.question.author.id===this.props.viewer.actor.id;return {node:{text_with_entities:{text:this.props.optionText},viewer_has_voted:!k,voters:{count:k?0:1,edges:k?[]:[{node:{is_viewer_friend:false}}]}}};};j.prototype.getOptimisticResponse=function(){var k=this.props.question.author.id===this.props.viewer.actor.id,l=this.props.question.options.edges.map(function(m){var n=babelHelpers['extends']({},m.node);if(this.props.question.response_method==='CHOOSE_ONE'&&m.node.viewer_has_voted&&!k){n.viewer_has_voted=false;n.voters={count:m.node.voters.count-1};}return {node:n};}.bind(this));l.push(this.$PollOptionMutation1());return {question:{id:this.props.question.id,options:{count:this.props.question.options.count+1,edges:l}},question_options_edge:this.$PollOptionMutation1()};};j.initialVariables={num_options_to_show:100};j.fragments={question:function(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'author',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'response_method',kind:'Field',metadata:{},type:'QuestionResponseMethod'},{calls:[{kind:'Call',metadata:{type:'[QuestionOptionsOrdering]'},name:'orderby',value:{kind:'CallValue',callValue:'vote_count'}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'num_options_to_show'}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'viewer_has_voted',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'voters',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionVotersConnection'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'QuestionOption'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'QuestionOptionsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'options',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionsConnection'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollAddOptionMutation_QuestionRelayQL',type:'Question'};}();},viewer:function(){return function(){return {children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'actor',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollAddOptionMutation_ViewerRelayQL',type:'Viewer'};}();}};function j(){h.apply(this,arguments);}f.exports=j;},null);
__d('PollVoteMutation',['Relay','RelayMutationType'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('Relay').Mutation);i=h&&h.prototype;j.prototype.getMutation=function(){return this.props.option.viewer_has_voted?function(){return {calls:[{kind:'Call',metadata:{},name:'question_remove_vote',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'QuestionRemoveVoteData!'},name:'PollVoteMutation',responseType:'QuestionRemoveVoteResponsePayload'};}():function(){return {calls:[{kind:'Call',metadata:{},name:'question_add_vote',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'QuestionAddVoteData!'},name:'PollVoteMutation',responseType:'QuestionAddVoteResponsePayload'};}();};j.prototype.getVariables=function(){return {question_id:this.props.question.id,option_id:this.props.option.id,actor_id:this.props.viewer.actor.id};};j.prototype.getConfigs=function(){return [{type:c('RelayMutationType').FIELDS_CHANGE,fieldIDs:{question:this.props.question.id}}];};j.prototype.getCollisionKey=function(){return 'question_vote_'+this.props.option.id;};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{fieldName:'viewer_has_voted',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'voters',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionVotersConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'option',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'QuestionOption'},{children:[{fieldName:'options',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionsConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'question',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Question'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{pattern:true},name:'PollVoteMutationRelayQL',type:'QuestionAddVoteResponsePayload'};}();};j.prototype.getOptimisticResponse=function(){var k=this.props.question.options.edges.map(function(l){var m=babelHelpers['extends']({},l.node);if(this.props.option.id===l.node.id){m.viewer_has_voted=!this.props.option.viewer_has_voted;m.voters.count=this.props.option.viewer_has_voted?this.props.option.voters.count-1:this.props.option.voters.count+1;}else if(this.props.question.response_method==='CHOOSE_ONE'&&!this.props.option.viewer_has_voted&&l.node.viewer_has_voted){m.viewer_has_voted=false;m.voters.count=l.node.voters.count-1;}return {node:m};}.bind(this));return {question:{id:this.props.question.id,options:{edges:k}}};};j.initialVariables={num_options_to_show:100};j.fragments={question:function(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'response_method',kind:'Field',metadata:{},type:'QuestionResponseMethod'},{calls:[{kind:'Call',metadata:{type:'[QuestionOptionsOrdering]'},name:'orderby',value:{kind:'CallValue',callValue:'vote_count'}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'num_options_to_show'}}],children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'viewer_has_voted',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:5}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'voters',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionVotersConnection'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'QuestionOption'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'QuestionOptionsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'options',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionsConnection'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollVoteMutation_QuestionRelayQL',type:'Question'};}();},option:function(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'viewer_has_voted',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'voters',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionVotersConnection'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollVoteMutation_OptionRelayQL',type:'QuestionOption'};}();},viewer:function(){return function(){return {children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'actor',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollVoteMutation_ViewerRelayQL',type:'Viewer'};}();}};function j(){h.apply(this,arguments);}f.exports=j;},null);
__d('PollAttachmentAddOption.react',['cx','fbt','xuiglyph','AbstractTextArea.react','Image.react','React','TextAreaControl'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes,n={addOption:"_31qf _31qg",addOptionLabel:"_31qh _31qi",charCount:"_31qk",addOptionInput:"_4sjs"};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;o.propTypes={onAdd:m.func.isRequired,maxOptionLength:m.number.isRequired,disabled:m.bool.isRequired};function o(p){l.constructor.call(this,p);this.state={text:'',isFocused:false};}o.prototype.componentDidMount=function(){var p=this.refs.textArea.getTextFieldDOM();this.$PollAttachmentAddOption1=new (c('TextAreaControl'))(p);this.$PollAttachmentAddOption1.setAutogrow(true);this.$PollAttachmentAddOption1.onupdate();};o.prototype.componentDidUpdate=function(){this.$PollAttachmentAddOption1.onupdate();};o.prototype.componentWillUnmount=function(){this.$PollAttachmentAddOption1=null;};o.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:n.charCount},c('React').createElement('div',{hidden:!this.state.isFocused},this.state.text.length,'/',this.props.maxOptionLength)),c('React').createElement('div',{className:n.addOption},c('React').createElement('div',{className:n.addOptionLabel},c('React').createElement(c('Image.react'),{src:j({name:'plus',size:'small',shade:'light'})})),c('React').createElement('div',{className:n.addOptionInput},c('React').createElement(c('AbstractTextArea.react'),{onChange:function(event){return this.$PollAttachmentAddOption2(event);}.bind(this),onEnter:function(event){return this.$PollAttachmentAddOption3(event);}.bind(this),maxLength:this.props.maxOptionLength,disabled:this.props.disabled,onFocus:function(){return this.setState({isFocused:true});}.bind(this),onBlur:function(){return this.setState({isFocused:false});}.bind(this),placeholder:i._("Add an option..."),value:this.state.text,ref:'textArea'})))));};o.prototype.$PollAttachmentAddOption2=function(event){if(event.target.value.length>this.props.maxOptionLength)return;this.setState({text:event.target.value});};o.prototype.$PollAttachmentAddOption3=function(event){this.props.onAdd(event);this.setState({text:''});};f.exports=o;},null);
__d('PollAttachmentComponent.react',['cx','fbt','getURLRanges','Facepile.react','PollAddOptionMutation','PollVoteMutation','PollAttachmentAddOption.react','ProfileBrowserLink','React','Relay','TextWithEntities.react','randomShuffle'],function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l={root:"_3cof",facepile:"_3cog",row:"_31qf",optionRow:"_31qf _1jwy",optionLabel:"_31qh _3coj",optionSelector:"_3cok",optionBar:"_3col",optionVotes:"_3com",optionText:"_3con",optionExpanderLink:"_3coo",optionExpander:"_31qf _3cop",space:"_3coq"};j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={isLocked:false,disableShuffle:false};}m.prototype.render=function(){var n=this.props.question,o=!this.state.isLocked&&n.can_viewer_post,p=this.props.relay.variables.num_options_to_show,q=n.options.edges.reduce(function(x,y){return Math.max(x,y.node.voters.count);},1),r=n.options.edges;if(this.props.relay.route.params.shouldShuffle&&!this.state.disableShuffle)r=c('randomShuffle')(r);r=r.slice(0,p).map(function(x){var y=function(da){if(!o)return;if(da.target.href!==undefined)return;this.setState({isLocked:true});c('Relay').Store.commitUpdate(new (c('PollVoteMutation'))({question:n,option:x.node,viewer:this.props.viewer,num_options_to_show:n.options.count}),{onSuccess:function(){this.setState({isLocked:false});}.bind(this),onFailure:function(ea){this.setState({isLocked:false});}.bind(this)});}.bind(this),z=x.node.voters.edges.filter(function(da){return da.node.is_viewer_friend;}).slice(0,5).map(function(da){return da.node;});if(x.node.viewer_has_voted)z.unshift(this.props.viewer.actor);var aa=z.map(function(da){return {URL:da.url,name:da.name,uniqueID:parseInt(da.id,10),profilePicURI:da.profile_picture.uri};}),ba=c('ProfileBrowserLink').constructPageURI('option_voters',{option_id:x.node.id}).toString(),ca=c('ProfileBrowserLink').constructDialogURI('option_voters',{option_id:x.node.id}).toString();return (c('React').createElement('div',{key:x.node.id},c('React').createElement('div',{className:l.facepile},c('React').createElement(c('Facepile.react'),{moreColor:'gray',moreCount:x.node.voters.count-Math.min(5,aa.length),moreDialogLink:ca,morePageLink:ba,numFaces:5,profiles:aa,showHovercard:true,size:28})),c('React').createElement('div',{className:o?l.optionRow:l.row},c('React').createElement('div',{className:l.optionLabel,onClick:y},c('React').createElement('input',{type:n.response_method==='CHOOSE_MULTIPLE'?'checkbox':'radio',disabled:!o,className:l.optionSelector,checked:x.node.viewer_has_voted})),c('React').createElement('div',{className:l.optionBar,onClick:y},c('React').createElement('div',{className:l.optionVotes,style:{width:100*x.node.voters.count/q+'%'}}),c('React').createElement('div',{className:l.optionText},c('React').createElement(c('TextWithEntities.react'),{ranges:c('getURLRanges')(x.node.text_with_entities.text),renderEmoticons:false,renderEmoji:true,text:x.node.text_with_entities.text}))))));}.bind(this));var s=null,t=null;if(n.options.count>p){var u=n.options.count-p,v=i._({"*":"{options} more options..."},[i.param('options',u,[0])]),w=i._("1 more option...");s=c('React').createElement('div',null,c('React').createElement('div',{className:l.space}),c('React').createElement('a',{className:l.optionExpanderLink,onClick:function(){return this.$PollAttachmentComponent1();}.bind(this)},c('React').createElement('div',{className:l.optionExpander},u>1?v:w)));}else if(n.poll_answers_state==='OPEN'&&n.can_viewer_post)t=c('React').createElement(c('PollAttachmentAddOption.react'),{onAdd:function(x){return this.$PollAttachmentComponent2(x);}.bind(this),maxOptionLength:this.props.maxOptionLength,disabled:this.state.isLocked});return (c('React').createElement('div',{className:l.root},r,s,t));};m.prototype.$PollAttachmentComponent1=function(){this.setState({disableShuffle:true});this.props.relay.setVariables({num_options_to_show:this.props.question.options.count});};m.prototype.$PollAttachmentComponent2=function(event){this.setState({isLocked:true});this.props.relay.setVariables({num_options_to_show:this.props.relay.variables.num_options_to_show+1});c('Relay').Store.commitUpdate(new (c('PollAddOptionMutation'))({question:this.props.question,optionText:event.target.value,viewer:this.props.viewer}),{onSuccess:function(){this.setState({isLocked:false});}.bind(this),onFailure:function(n){this.setState({isLocked:false});this.props.relay.setVariables({num_options_to_show:this.props.relay.variables.num_options_to_show-1});}.bind(this)});};f.exports=m;},null);
__d('PollAttachmentContainer.react',['PollAttachmentComponent.react','PollAddOptionMutation','PollVoteMutation','Relay'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('Relay').createContainer(c('PollAttachmentComponent.react'),{initialVariables:{num_options_to_show:5,should_shuffle:false},fragments:{viewer:function(){return function(i,j){return {children:[].concat.apply([],[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{calls:[{kind:'Call',metadata:{},name:'size__width',value:{kind:'CallValue',callValue:32}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],directives:[{kind:'Directive',name:'fixme_call_args',args:[]}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{calls:[{kind:'Call',metadata:{type:'SiteEnum'},name:'site',value:{kind:'CallValue',callValue:'www'}}],fieldName:'url',kind:'Field',metadata:{},type:'Url'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'actor',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},c('Relay').QL.__frag(i),c('Relay').QL.__frag(j)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollAttachmentContainer_react_ViewerRelayQL',type:'Viewer'};}(c('PollVoteMutation').getFragment('viewer'),c('PollAddOptionMutation').getFragment('viewer'));},question:function(i){var j=i.num_options_to_show,k=i.should_shuffle;return function(l,m,n,o){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'response_method',kind:'Field',metadata:{},type:'QuestionResponseMethod'},{fieldName:'poll_answers_state',kind:'Field',metadata:{},type:'QuestionPollAnswersState'},{fieldName:'can_viewer_post',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{type:'[QuestionOptionsOrdering]'},name:'orderby',value:{kind:'CallValue',callValue:'vote_count'}},{kind:'Call',metadata:{},name:'first',value:c('Relay').QL.__var(l)}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'},{fieldName:'ranges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'EntityAtRange'}],fieldName:'text_with_entities',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{fieldName:'viewer_has_voted',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:5}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'is_viewer_friend',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{type:'SiteEnum'},name:'site',value:{kind:'CallValue',callValue:'www'}}],fieldName:'url',kind:'Field',metadata:{},type:'Url'},{calls:[{kind:'Call',metadata:{},name:'size__width',value:{kind:'CallValue',callValue:30}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],directives:[{kind:'Directive',name:'fixme_call_args',args:[]}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'User'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'QuestionOptionVotersEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'voters',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionVotersConnection'},c('Relay').QL.__frag(m)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'QuestionOption'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'QuestionOptionsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'options',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'QuestionOptionsConnection'},c('Relay').QL.__frag(n),c('Relay').QL.__frag(o)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'PollAttachmentContainer_react_QuestionRelayQL',type:'Question'};}(k?200:j,c('PollVoteMutation').getFragment('option'),c('PollVoteMutation').getFragment('question',{num_options_to_show:j}),c('PollAddOptionMutation').getFragment('question',{num_options_to_show:j}));}}});f.exports=h;},null);
__d('PollAttachment.react',['PollAttachmentContainer.react','React','Relay','RelayRootCalls','RelayRootContainer'],function a(b,c,d,e,f,g){'use strict';var h,i,j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;h=babelHelpers.inherits(m,c('Relay').Route);i=h&&h.prototype;function m(){h.apply(this,arguments);}m.routeName='PollAttachmentRoute';m.paramDefinitions={question:{type:'String',required:true},shouldShuffle:{type:'Boolean',required:false}};m.queries={viewer:c('RelayRootCalls').viewer,question:function(o){return function(p){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'question'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('Relay').QL.__frag(p)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'PollAttachment_react',type:'Node'};}(o.getFragment('question'));}};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.propTypes={question:l.string.isRequired,maxOptionLength:l.number.isRequired,shouldShuffle:l.bool};n.prototype.render=function(){return (c('React').createElement(c('RelayRootContainer'),{Component:c('PollAttachmentContainer.react'),route:new m({question:this.props.question,maxOptionLength:this.props.maxOptionLength,shouldShuffle:this.props.shouldShuffle})}));};function n(){j.apply(this,arguments);}f.exports=n;},null);
__d("XFeedTopicsSurveyTaggingExperienceController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/topics\/survey\/taggingexperience\/",{has_manually_added_tags:{type:"Bool",defaultValue:false},has_manually_removed_tags:{type:"Bool",defaultValue:false},has_server_added_tags:{type:"Bool",defaultValue:false},session_id:{type:"String",required:true}});},null);
__d('ReactComposerTopicFeedsRapidFeedbackSurveyStore',['AsyncRequest','ReactComposerActionTypes','ReactComposerLoggingStore','ReactComposerStoreBase','ReactComposerTopicFeedsTaggerStore','XFeedTopicsSurveyTaggingExperienceController'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {};},function(l){switch(l.type){case c('ReactComposerActionTypes').POST_STARTED:var m=k.validateAction(l,'composerID');k.$ReactComposerTopicFeedsRapidFeedbackSurveyStore1(m);break;}});k=this;}j.prototype.$ReactComposerTopicFeedsRapidFeedbackSurveyStore1=function(k){'use strict';var l=c('ReactComposerTopicFeedsTaggerStore').getUserAddedTopics(k).size>0,m=c('ReactComposerTopicFeedsTaggerStore').getUserRemovedTopics(k).size>0,n=c('ReactComposerTopicFeedsTaggerStore').getUserAddedTopics(k).size<c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(k).size;if(l||m||n)new (c('AsyncRequest'))(c('XFeedTopicsSurveyTaggingExperienceController').getURIBuilder().setString('session_id',c('ReactComposerLoggingStore').getSessionID(k)).setBool('has_manually_added_tags',l).setBool('has_manually_removed_tags',m).setBool('has_server_added_tags',n).getURI()).send();};f.exports=new j();},null);
__d('ReactComposerTopicFeedsScrollableTypeAheadView.react',['cx','React','ScrollableArea.react','XUITypeaheadView.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerTopicFeedsScrollableTypeAheadView',propTypes:{width:i.number},render:function(){var k=this.props,l=k.width,m=k.style,n=babelHelpers.objectWithoutProperties(k,['width','style']);return (c('React').createElement(c('ScrollableArea.react'),{className:"_37iv _599r",style:m,width:l},c('React').createElement(c('XUITypeaheadView.react'),n)));}});f.exports=j;},null);
__d('ReactComposerTopicFeedsTaggerPrefix.react',['fbt','React','TooltipMixin'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ReactComposerTopicFeedsTaggerPrefix',mixins:[c('TooltipMixin')],getDefaultProps:function(){var j=h._("These are the feeds that this could appear in.");return {tooltip:j};},render:function(){return (c('React').createElement('span',null,h._("Topics")));}});f.exports=i;},null);
__d('ReactComposerTopicFeedsTaggerSearchSource',['AbstractSearchSource','SearchableEntry','TopicFeedTypes'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){'use strict';var n=Object.keys(c('TopicFeedTypes')).map(function(o){var p=k.toLowerCase(),q=c('TopicFeedTypes')[o];if(q.toLowerCase().contains(p)){return new (c('SearchableEntry'))({uniqueID:o,title:q});}else return null;}).filter(function(o){return o;});l(n,k);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;},null);
__d('ReactComposerTopicFeedsTaggerToken.react',['cx','fbt','DraggableTokenMixin.react','React','SearchableEntry','XUICloseButton.react','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerTopicFeedsTaggerToken',mixins:[c('DraggableTokenMixin.react')],propTypes:{label:j.string.isRequired,entry:j.instanceOf(c('SearchableEntry')),onRemove:j.func,highlighted:j.bool},_onRemove:function(l){l.preventDefault();l.stopPropagation();this.props.onRemove&&this.props.onRemove(this.props.entry);},render:function(){var l=null;if(this.props.onRemove)l=c('React').createElement(c('XUICloseButton.react'),{type:'button','aria-label':i._("Remove {item}",[i.param('item',this.props.label)]),className:"_3r_a",size:'small',onClick:this._onRemove});var m="_3r_b"+(this.props.highlighted?' '+"_3r_c":'');return this.renderDraggableToken(c('React').createElement('span',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,m)}),c('React').createElement('span',{'aria-label':this.props.label,title:this.props.label,className:"_3r_d"},this.props.label),l));}});f.exports=k;},null);
__d('ReactComposerTopicFeedsTaggerComponent.react',['cx','fbt','ReactComposerTopicFeedsTaggerPrefix.react','ReactComposerTopicFeedsTaggerSearchSource','ReactComposerTopicFeedsTaggerToken.react','Grid.react','React','ReactLayeredComponentMixin','ReactComposerTopicFeedsScrollableTypeAheadView.react','SearchableEntry','XUIAmbientNUX.react','XUITokenizer.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('Grid.react').GridItem,k=c('React').PropTypes,l={ViewRenderer:c('ReactComposerTopicFeedsScrollableTypeAheadView.react'),TokenRenderer:c('ReactComposerTopicFeedsTaggerToken.react'),useLayer:true,maxEntries:30},m=c('React').createClass({displayName:'ReactComposerTopicFeedsTaggerComponent',mixins:[c('ReactLayeredComponentMixin')],propTypes:{entries:k.arrayOf(k.instanceOf(c('SearchableEntry'))).isRequired,onNuxClosed:k.func,onTagRemove:k.func.isRequired,onTagSelect:k.func.isRequired,placeholder:k.string,showNux:k.bool,taggerSource:k.object},getDefaultProps:function(){var n=i._("add a topic...");return {placeholder:n,taggerSource:new (c('ReactComposerTopicFeedsTaggerSearchSource'))()};},renderLayers:function(){if(!this.props.showNux)return null;return (c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',contextRef:function(){return this.refs.tokenizer;}.bind(this),position:'below',shown:true,onCloseButtonClick:this.props.onNuxClosed},i._("You can now add a topic to your posts. We will also suggest topics for your posts to make this easier.")));},render:function(){return (c('React').createElement(c('Grid.react'),{cols:2,className:"_4dqz",role:'presentation'},c('React').createElement(j,{key:'label',className:"_4dq-",role:'presentation'},c('React').createElement(c('ReactComposerTopicFeedsTaggerPrefix.react'),null)),c('React').createElement(j,{key:'tokenizer',className:"_4dq_",ref:'tokenizer',role:'presentation'},c('React').createElement(c('XUITokenizer.react'),{entries:this.props.entries,onAddEntryAttempt:this.props.onTagSelect,onRemoveEntryAttempt:this.props.onTagRemove,focusAfterSelection:false,placeholder:this.props.placeholder,searchSource:this.props.taggerSource,presenter:l,alwaysShowPlaceholder:false,showEntriesOnFocus:true,selectOnTab:false,className:"_4dr0"}))));}});f.exports=m;},null);
__d('ReactComposerTopicFeedsTaggerLoggingStore',['ReactComposerActionTypes','ReactComposerLoggingStore','ReactComposerMediaUploadActionType','ReactComposerStore','ReactComposerStoreBase','ReactComposerTopicFeedsTaggerStore','ReactComposerTopicFeedsTaggerActionType','TopicFeedsComposerTypedLogger'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {lastPhotoUploadedTimestamp:0,photoUploadToPostDuration:0};},function(l){if(!k)return;var m=k.validateAction(l,'composerID');if(l.type!==c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED&&!c('ReactComposerTopicFeedsTaggerStore').getIsTaggerEnabled(m))return;switch(l.type){case c('ReactComposerActionTypes').POST_SUCCEEDED:k.$ReactComposerTopicFeedsTaggerLoggingStore1(l);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG:k.$ReactComposerTopicFeedsTaggerLoggingStore2(l);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG:k.$ReactComposerTopicFeedsTaggerLoggingStore3(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:k.$ReactComposerTopicFeedsTaggerLoggingStore4(l);break;case c('ReactComposerActionTypes').POST_STARTED:k.$ReactComposerTopicFeedsTaggerLoggingStore5(l);break;}});k=this;}j.prototype.$ReactComposerTopicFeedsTaggerLoggingStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','topicID']),m=l[0],n=l[1];new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_manual_topic_add').setComposerID(c('ReactComposerLoggingStore').getSessionID(m)).setTopicAdded(n).log();};j.prototype.$ReactComposerTopicFeedsTaggerLoggingStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','topicID']),m=l[0],n=l[1];new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_manual_topic_remove').setComposerID(c('ReactComposerLoggingStore').getSessionID(m)).setTopicRemoved(n).log();};j.prototype.$ReactComposerTopicFeedsTaggerLoggingStore1=function(k){'use strict';var l=this.validateAction(k,'composerID');new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_send_post').setComposerID(c('ReactComposerLoggingStore').getSessionID(l)).setTopicsTagged(c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(l)).setTopicsUserAdded(c('ReactComposerTopicFeedsTaggerStore').getUserAddedTopics(l)).setTopicsUserRemoved(c('ReactComposerTopicFeedsTaggerStore').getUserRemovedTopics(l)).setTargetType(c('ReactComposerStore').getTargetType(l)).setEntryPointRef(c('ReactComposerStore').getRef(l)).setPhotoUploadToPostDuration(this.getComposerData(l).photoUploadToPostDuration).log();};j.prototype.$ReactComposerTopicFeedsTaggerLoggingStore4=function(k){'use strict';var l=this.validateAction(k,'composerID');this.getComposerData(l).lastPhotoUploadedTimestamp=Date.now();};j.prototype.$ReactComposerTopicFeedsTaggerLoggingStore5=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);if(m.lastPhotoUploadedTimestamp>0)m.photoUploadToPostDuration=Date.now()-m.lastPhotoUploadedTimestamp;};f.exports=new j();},null);
__d('ReactComposerTopicFeedsTaggerContainer.react',['fbt','ReactComposerPrefillStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTopicFeedsTaggerActions','ReactComposerTopicFeedsTaggerComponent.react','ReactComposerTopicFeedsTaggerStore','AsyncRequest','ReactComponentWithPureRenderMixin','React','SearchableEntry','SimpleXUIDialog','TopicFeedsConstant','TopicFeedsNuxID','TopicFeedTypes','XBasicFBNuxDismissController','ReactComposerTopicFeedsTaggerLoggingStore','ReactComposerTopicFeedsRapidFeedbackSurveyStore'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();c('ReactComposerTopicFeedsTaggerLoggingStore');c('ReactComposerTopicFeedsRapidFeedbackSurveyStore');var i=c('React').PropTypes,j=c('TopicFeedsConstant').DEFAULT_PHOTO_AUTO_TAGGING_DELAY,k=c('TopicFeedsConstant').DEFAULT_TEXT_AUTO_TAGGING_DELAY,l=c('TopicFeedsConstant').DEFAULT_COMPOSER_TOPIC_LIMIT,m=c('React').createClass({displayName:'ReactComposerTopicFeedsTaggerContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTopicFeedsTaggerStore'))],statics:{beforeCalculateInitialState:function(n,o){var p=c('ReactComposerPrefillStore').getAndEraseField(n,'topicFeedTags');if(p)c('ReactComposerTopicFeedsTaggerActions').prefillTags(n,p);},calculateState:function(n,o){var p=c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(n).toArray().map(function(q){return new (c('SearchableEntry'))({uniqueID:q,title:c('TopicFeedTypes')[q]});});return {entries:p};}},propTypes:{darkLaunch:i.bool,photoAutoTaggingDelay:i.number.isRequired,reshareURL:i.string,showNux:i.bool,textAutoTaggingDelay:i.number.isRequired,topicLimit:i.number.isRequired},getDefaultProps:function(){return {darkLaunch:false,photoAutoTaggingDelay:j,showNux:false,textAutoTaggingDelay:k,topicLimit:l};},componentDidMount:function(){c('ReactComposerTopicFeedsTaggerActions').setTaggerMounted(this.context.composerID,true);c('ReactComposerTopicFeedsTaggerActions').setTextAutoTaggingDelay(this.context.composerID,this.props.textAutoTaggingDelay);c('ReactComposerTopicFeedsTaggerActions').setPhotoAutoTaggingDelay(this.context.composerID,this.props.photoAutoTaggingDelay);if(this.props.photoPollingDuration)c('ReactComposerTopicFeedsTaggerActions').setPhotoPollingDuration(this.context.composerID,this.props.photoPollingDuration);if(this.props.photoPollingInterval)c('ReactComposerTopicFeedsTaggerActions').setPhotoPollingInterval(this.context.composerID,this.props.photoPollingInterval);c('ReactComposerTopicFeedsTaggerActions').setDarkLaunch(this.context.composerID,!!this.props.darkLaunch);if(this.props.reshareURL)c('ReactComposerTopicFeedsTaggerActions').setReshareURL(this.context.composerID,this.props.reshareURL);if(this.context.targetID)c('ReactComposerTopicFeedsTaggerActions').setTargetID(this.context.composerID,this.context.targetID);},componentWillUnmount:function(){c('ReactComposerTopicFeedsTaggerActions').setTaggerMounted(this.context.composerID,false);},render:function(){if(this.props.darkLaunch)return null;return (c('React').createElement(c('ReactComposerTopicFeedsTaggerComponent.react'),babelHelpers['extends']({},this.props,this.state,{onNuxClosed:this._onNuxClosed,onTagRemove:this._onRemoveTopicTag,onTagSelect:this._onAddTopicTag})));},_onAddTopicTag:function(n){if(this.props.topicLimit>0){var o=c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(this.context.composerID).size;if(o>=this.props.topicLimit){var p=h._({"*":{"s":"You can only select {composer_topic_limit} topic for a post.","p":"You can only select {composer_topic_limit} topics for a post."}},[h.param('composer_topic_limit',this.props.topicLimit,[0]),h['enum'](this.props.topicLimit===1?'s':'p',{s:' topic',p:' topics'})]);c('SimpleXUIDialog').show(p);return;}}c('ReactComposerTopicFeedsTaggerActions').addTag(this.context.composerID,n.getUniqueID());this._onNuxClosed();},_onRemoveTopicTag:function(n){c('ReactComposerTopicFeedsTaggerActions').removeTag(this.context.composerID,n.getUniqueID());this._onNuxClosed();},_onNuxClosed:function(){var n=c('XBasicFBNuxDismissController').getURIBuilder().setInt('nux_id',c('TopicFeedsNuxID').WWW_TOPIC_FEEDS_COMPOSER_TAGGER).getURI();new (c('AsyncRequest'))().setURI(n).send();this.setState({showNux:false});}});f.exports=m;},null);